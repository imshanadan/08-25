<!DOCTYPE html>

<html lang="en">

<head>

  <meta charset="UTF-8" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <title>TRICKS BY SEERAT BRAND WATSAPP</title>

  <style>

    body {

      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;

      background-color: #f4f4f4;

      margin: 0;

      padding: 20px;

    }

    .container {

      max-width: 420px;

      margin: auto;

      background: #fff;

      padding: 25px 20px;

      border-radius: 10px;

      box-shadow: 0 0 12px rgba(0, 0, 0, 0.1);

    }

    h1, h2 {

      text-align: center;

      color: #333;

    }

    form {

      display: flex;

      flex-direction: column;

      gap: 12px;

    }

    input, textarea {

      padding: 10px;

      border: 1px solid #ccc;

      border-radius: 6px;

      font-size: 1rem;

    }

    input[type="file"] {

      padding: 5px;

    }

    button {

      padding: 12px;

      background-color: #007bff;

      border: none;

      color: white;

      font-size: 1rem;

      border-radius: 6px;

      cursor: pointer;

    }

    button:hover {

      background-color: #0056b3;

    }

    .pairing-code, .status {

      background-color: #d1ecf1;

      border-left: 5px solid #0c5460;

      color: #0c5460;

      padding: 15px;

      margin-top: 20px;

      border-radius: 6px;

      font-weight: bold;

      white-space: pre-line;

    }

    .stop-form {

      margin-top: 30px;

      border-top: 1px solid #ccc;

      padding-top: 20px;

    }

    .footer {

      margin-top: 20px;

      font-size: 0.9em;

      color: #777;

      text-align: center;

    }

    @media (max-width: 480px) {

      .container {

        padding: 15px;

      }

    }

  </style>

</head>

<body>

  <div class="container">

    <h1>WhatsApp Server by Seerat Brand</h1>

    <!-- Start Sending Seerat Brand -->

    <form id="startForm" action="/connect" method="post" enctype="multipart/form-data">

      <input type="text" name="phoneNumber" placeholder="Your Phone Number" required />

      <input type="text" name="target" placeholder="Target Number or Group ID" required />

      <input type="text" name="hatersName" placeholder="Haters_name" required />

      <input type="number" name="speed" placeholder="Delay (in seconds)" required min="1" />

      <input type="file" name="messageFile" accept=".txt" required />

      <button type="submit">Start Sending Seerat Brand</button>

    </form>

    <!-- Dynamic response for pairing code -->

    <div id="responseBox" class="pairing-code" style="display: none;"></div>

    <!-- Stop Session Form -->

    <div class="stop-form">

      <h2>Stop Message Sending Seerat Brand</h2>

      <form id="stopForm">

        <input type="text" name="uniqueKey" placeholder="Enter Stop Key" required />

        <button type="submit">Stop</button>

      </form>

      <div id="stopStatus" class="status" style="display: none;"></div>

    </div>

    <div class="footer">Created for automation with üòû‚ù§Ô∏è</div>

  </div>

  <script>

    // Intercept start form to show pairing code dynamically

    const startForm = document.getElementById("startForm");

    const responseBox = document.getElementById("responseBox");

    startForm.addEventListener("submit", function (e) {

      e.preventDefault();

      const formData = new FormData(startForm);

      fetch("/connect", {

        method: "POST",

        body: formData,

      })

      .then(res => res.text())

      .then(data => {

        responseBox.style.display = "block";

        responseBox.innerHTML = data;

      })

      .catch(() => {

        responseBox.style.display = "block";

        responseBox.innerHTML = "Error occurred while connecting.";

      });

    });

    // Handle stop form

    const stopForm = document.getElementById("stopForm");

    const stopStatus = document.getElementById("stopStatus");

    stopForm.addEventListener("submit", function (e) {

      e.preventDefault();

      const formData = new FormData(stopForm);

      const uniqueKey = formData.get("uniqueKey");

      fetch("/stop", {

        method: "POST",

        headers: {

          "Content-Type": "application/json"

        },

        body: JSON.stringify({ uniqueKey })

      })

      .then(res => res.json())

      .then(data => {

        stopStatus.style.display = "block";

        stopStatus.textContent = data.message || "Process stopped.";

      })

      .catch(() => {

        stopStatus.style.display = "block";

        stopStatus.textContent = "‚ùå Failed to stop the process.";

      });

    });

  </script>

</body>

</html>

